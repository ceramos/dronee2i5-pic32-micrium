/*
*********************************************************************************************************
*                                               uC/OS-II
*                                         The Real-Time Kernel
*
*                             (c) Copyright 1998-2006, Micrium, Weston, FL
*                                          All Rights Reserved
*
*
*                                            MIPS Sample code
*
* File : drone.c
*********************************************************************************************************
*/
/*
*********************************************************************************************************
*                                                INCLUDES
*********************************************************************************************************
*/
#include <includes.h>
#include <drone.h>


/*
*********************************************************************************************************
*                                                VARIABLES
*********************************************************************************************************
*/
TDrone drone;
/*
*********************************************************************************************************
*                                            FUNCTION PROTOTYPES
*********************************************************************************************************
*/


/*
*********************************************************************************************************
*                                            FUNCTION
*********************************************************************************************************
*/
void init_drone(TDrone *This)
{
	byte i = 0;

	init_sensor(&This->sensor[i], ACCEL_RES, ACCEL_FS);
	This->sensor[i++].get_sample = &ADC_GetVal;

	init_sensor(&This->sensor[i], ACCEL_RES, ACCEL_FS);
	This->sensor[i++].get_sample = &ADC_GetVal;

	init_enc(&This->acq.enc, This->sensor);
}
